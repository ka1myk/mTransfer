
var infoBlockHeight;
var infoBlockTop;

$(document).ready(function(e) {
	
		var docHeight = $(document).innerHeight() - $('.header').innerHeight() - $('.footer').innerHeight();
		
		//console.log($(document).innerHeight()+'-'+$('.header').innerHeight()+'-'+$('.footer').innerHeight()+'='+docHeight);
	
		//console.log($('.page-wrapper')[0].scrollHeight);

		if(docHeight < $('.page-wrapper')[0].scrollHeight ){
			//	$('html').addClass('overheight');
			}
		
		/*		
		if($("div").is(".benefits")){
			if(docHeight > $('.section .benefits').innerHeight() ){
				$('html').addClass('overheight');
				$('body').addClass('overheight');
			}
		}else if($("div").is(".cars")){
			console.log($('.section .cars').innerHeight());
			if(docHeight > $('.section .cars').innerHeight() ){
				$('html').addClass('overheight');
				$('body').addClass('overheight');
			}
		}else if($("div").is(".partners")){
			if(docHeight > $('.section .partners').innerHeight() ){
				$('html').addClass('overheight');
				$('body').addClass('overheight');
			}
		}else if($("div").is(".txtWrap")){
			
			if(docHeight > $('.section .txtWrap').innerHeight() ){
				$('html').addClass('overheight');
				$('body').addClass('overheight');
			}
		}
		*/
		
		/*
		if( $(document).innerWidth() < 1200){

		if($("div").is(".infoBlock")){
			infoBlockHeight = $('.infoBlock')[0].scrollHeight;
			infoBlockTop = $('.infoBlock').parent('div').innerHeight() - infoBlockHeight;	
			
			$('.infoBlock').css({'top':infoBlockTop, 'height' :  (infoBlockHeight)});
		}
		}
		*/
		
	
});


$(window).resize(function(){
 		
		//if( $(document).innerWidth() < 1200){
			
			/*$('.infoBlock').css({'top': ($('.infoBlock').parent('div').innerHeight() - $('.infoBlock').innerHeight()) }); */
			
		var docHeight = $(document).innerHeight() - $('.header').innerHeight() - $('.footer').innerHeight();
			if(docHeight < $('.page-wrapper')[0].scrollHeight ){
				//$('html').addClass('overheight');
			}else{
				//$('html').removeClass('overheight');
			}
		
			/*
			if(docHeight < $('.section.overheight').innerHeight() ){
				console.log( 'remove overheight' );
				$('html').removeClass('overheight');
				$('body').removeClass('overheight');
				$('.section').removeClass('overheight');
				
			}
			*/
		//}


});


function FullView(){
		var docHeight = $(document).innerHeight() - $('.header').innerHeight() - $('.footer').innerHeight();
			
	FullViewProcess( function(){
		if(docHeight < $('.page-wrapper')[0].scrollHeight ){
			$('html').addClass('overheight');
		}
	});
	
	/*
	var docHeight = $(document).innerHeight() - $('.header').innerHeight() - $('.footer').innerHeight();
	FullViewProcess( function(){
		//console.log($('.section .txtWrap').innerHeight());
		
		
		if(docHeight < $('.section .txtWrap').innerHeight() ){
			$('html').addClass('overheight');
			$('body').addClass('overheight');
		}
	});
	*/
	
}

function FullViewProcess(onComplete){
	$('.infoBlock').addClass('full');
	$('.infoBlock .moreButton').hide();
	onComplete();
}



 
/*
var imgArray = [
        '/images/airport.jpg',
        '/images/business.jpg',
        '/images/chauff.jpg',
        '/images/event.jpg',
		'/images/home.jpg',
		'/images/luxury_car.jpg',
		'/images/wedding.jpg',
		'/images/m_airport.jpg',
        '/images/m_business.jpg',
        '/images/m_chauff.jpg',
        '/images/m_event.jpg',
		'/images/m_luxury.jpg',
		'/images/m_weddings.jpg'
];

$(window).on('load',function(){preCacheImgs});
function preCacheImgs(){
    $.each(imgArray, function(){
        var img = new Image();
        img.src = this;
    });
};
*/

var startX = 0;
var swidth = $(document).innerWidth();
var sheight = $(document).innerHeight();
document.addEventListener('touchstart', function(event) {
	startX = event.touches[0].pageX;
	//console.log(startX);
	swidth = $(document).innerWidth();
	sheight = $(document).innerHeight();
}, false);

document.addEventListener('touchend', function(event) {
   if($(document).innerWidth() < 1200){
		if( (event.changedTouches[0].pageX - startX) >= 120){
			var elem =$('.pagi a.current').prev();
			if( $(elem).length > 0) {
				$('body').fadeOut(300);
				window.location = $(elem).attr('href');
			}
		}
			
		if( (event.changedTouches[0].pageX - startX) <= -120){
			var elem =$('.pagi a.current').next();
			if( $(elem).length > 0) {
				$('body').fadeOut(300);
				window.location = $(elem).attr('href');
			}
		}
	
   }
	
}, false);


/*
document.addEventListener('touchmove', function(event) {
		 if($(document).innerWidth() < 1200){
			if (event.targetTouches.length == 1) {
				var touch = event.targetTouches[0];
				if( (touch.pageX-startX) > 50 || (touch.pageX-startX) < -50){
					$('.screen').css({ 
						'height':sheight,
						'width': swidth,
						'left' : touch.pageX-startX + 'px',
						'position' : 'absolute',
						});
					$('body').css({ 'overflow': 'hidden'});
				}
			}
		 }
});
*/

/*
document.addEventListener('touchend', function(event) {
   if($(document).innerWidth() < 1200){
	   
	  
		if( (event.changedTouches[0].pageX - startX) <= -120 || (event.changedTouches[0].pageX - startX) >= 120){
		  
		if( (event.changedTouches[0].pageX - startX) >= 120){
			$('.screen').css({'left' : '100%' }); //.css({'left' : $(document).innerWidth()+'px' });
			
			var elem =$('.pagi a.current').prev();
			
			if( $(elem).length > 0) {
				$('body').fadeOut(300);
				window.location = $(elem).attr('href');
			}else{
				$('body').css({ 'overflow': 'auto'});
		
				$('.screen').css({ 
					'height': 'auto',
					'width': '100%',
					'left' : 0,
					'position' : 'relative',
				});
			}
		}
			
		if( (event.changedTouches[0].pageX - startX) <= -120){
			$('.screen').css({'left' : '-100%' });
	
			var elem =$('.pagi a.current').next();
			
			if( $(elem).length > 0) {
				$('body').fadeOut(300);
				window.location = $(elem).attr('href');
			}else{
				$('body').css({ 'overflow': 'auto'});
		
				$('.screen').css({ 
					'height': 'auto',
					'width': '100%',
					'left' : 0,
					'position' : 'relative',
				});
			}
		
		}
	
	   }else{
		$('body').css({ 'overflow': 'auto'});
		
		$('.screen').css({ 
	   		'height': 'auto',
	   		'width': '100%',
			'left' : 0,
			'position' : 'relative',
		});
		
		   
	   }
   }
	
}, false);
*/


$(document).bind('wheel mousewheel', function(event){
       //console.log($(window).scrollTop());
      
	   /*
	   if($(document).innerWidth() >= 1200){
			if($(window).scrollTop()+$(window).height() >= $(document).height()){
						    console.log(event);

				//
				
				if( (event.originalEvent.deltaY) > 1){
					if(scroll_count < 0) scroll_count = 0;
					scroll_count ++;
					console.log(scroll_count);
					if(scroll_count >= 5){
						//scroll_count = 0;
						var elem =$('.pagi a.current').next();
			
						if( $(elem).length > 0) {
							$('body').fadeOut(200);
							window.location = $(elem).attr('href');
						}
					}
				   
			   }
			}
			if($(window).scrollTop() == 0){
				
				//
				
				if( (event.originalEvent.deltaY) < -1){
					if(scroll_count > 0) scroll_count = 0;
					scroll_count --;
					console.log(scroll_count);
					if(scroll_count <= -5){
						var elem =$('.pagi a.current').prev();
						if( $(elem).length > 0) {
							$('body').fadeOut(200);
							window.location = $(elem).attr('href');
						}
					}
			   }
			}
			   			
	   }
	   */
});

var scroll_count = 0;
var scrollToNext = false;
var scrollToPrev = false;
var intervalNext;
var intervalPrev;
var end = false;

$(document).mousewheel(function(event, delta) {
                       // loghandle(event, delta);
                       // event.preventDefault();
console.log(delta);
	 if($(document).innerWidth() >= 1200){
		 
		 	if( delta == -1){
		 
				if($(window).scrollTop()+$(window).height() >= $(document).height()){
						intervalNext = window.setInterval(function(){
							scrollToNext = true; 
							clearInterval(intervalNext);
							console.log('int done');
						}, 1000);
				}else{
					clearInterval(intervalNext);
					scrollToNext = false; 
				}
				if(scrollToNext){
						var elem =$('.pagi a.current').next();
						if( $(elem).length > 0) {
							$('body').fadeOut(200);
							window.location = $(elem).attr('href');
						}
				
				}
					
			}
			
			if( delta == 1){
				if($(window).scrollTop() == 0){
					intervalPrev = window.setInterval(function(){
						scrollToPrev = true; 
						clearInterval(intervalPrev);
					}, 1000);
				}else{
					scrollToPrev = false;
					clearInterval(intervalPrev);
				}
				
				if(scrollToPrev){
					var elem =$('.pagi a.current').prev();
					if( $(elem).length > 0) {
						$('body').fadeOut(200);
						window.location = $(elem).attr('href');
					}
				}

			}
			   
			/*
			if($(window).scrollTop() == 0){
				
				interval = window.setInterval(function(){
					scrollToNext = true;
				}, 1000);
				
				if( delta = 1 && true){
					if(scroll_count > 0) {
						scroll_count = 0;
						scrollToNext = false;
					}
					scroll_count --;
					console.log(scroll_count);
					//if(scroll_count <= -5){
						var elem =$('.pagi a.current').prev();
						if( $(elem).length > 0) {
							$('body').fadeOut(200);
							window.location = $(elem).attr('href');
						}
					//}
			   }
			}
			*/
	}
			   			
});

/************************************************************/

$(document).ready(function(e) {

	
    $('#main-menu').on('mouseleave', function(){
		$('#main-menu').fadeOut();
		});
	
	
});
function fucMenu(){
	$('#lang-menu').fadeOut();
	$('#main-menu').fadeIn();
	} 
	
function fucMenuClose(){
	$('#main-menu').fadeOut();
	} 	
function fucLangMenu(){
	console.log('click');
	$('#lang-menu').fadeIn();
	$('#main-menu').fadeOut();
	
	} 
function fucLangMenuClose(){
	$('#lang-menu').fadeOut();
	}	


